const elements={username:id("username"),password:id("password"),submit:id("submit")},RegisterOpcode={AccountCreated:0,AccountExistsAlready:1,InvalidUsernameOrPassword:2};elements.submit.addEventListener("click",(()=>{elements.username.value=elements.username.value.trim(),sendForm()}));const sendForm=()=>{axios.post("/api/register",{Username:elements.username.value,Password:elements.password.value,From:"Web-Client"},{withCredentials:!0}).then((e=>{const s=e.data,a=s.Opcode,t=s.Message;switch(a){case RegisterOpcode.AccountExistsAlready:case RegisterOpcode.InvalidUsernameOrPassword:case RegisterOpcode.AccountCreated:updateMessage(t)}})).catch((e=>{switch(e.response.status){case 405:updateMessage("Web server is offline");break;case 429:updateMessage(e.response.data)}}))};